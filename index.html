<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>초대 페이지</title>

<!-- Referrer 완전 차단 (웹에서 링크 추적 불가) -->
<meta name="referrer" content="no-referrer">

<style>
  body {
    margin: 0;
    padding: 0;
    background: #a3d8ff; /* 하늘색 배경 */
    font-family: "Apple SD Gothic Neo", "Malgun Gothic", Arial, sans-serif;
  }
  .wrap {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .card {
    background: white;
    padding: 24px;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 360px;
  }
  h1 {
    margin: 0 0 12px;
    text-align: center;
    color: #333;
  }
  input[type="password"] {
    width: 100%;
    padding: 12px;
    margin-top: 10px;
    border-radius: 10px;
    border: 1px solid #bbb;
    font-size: 15px;
    outline: none;
  }
  button {
    margin-top: 12px;
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    background: #007aff;
    color: #fff;
    cursor: pointer;
  }
</style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <h1>비밀번호 확인</h1>
    <input id="pw" type="password" placeholder="비밀번호 입력">
    <button id="openBtn">입장하기</button>
  </div>
</div>

<script>
  /* ========== 설정 영역 ========== */

  // 비밀번호 (네가 말한 333333)
  const PASSWORD = "333333";

  // 원본 TikTok 초대 링크 (앱에서만 열리도록)
  const RAW_LINK = "https://lite.tiktok.com/t/ZSHwDMU6bJpyg-Femgk/";

  // Base64 인코딩 (링크 숨김)
  const ENCODED = btoa(RAW_LINK);

  // 앱 스킴: 브라우저에서 열리지 않고 앱 ONLY 실행
  const APP_LINK = "tiktok://link/?url=" + atob(ENCODED);

  /* ========== 동작 코드 ========== */

  const pwInput = document.getElementById("pw");
  const btn = document.getElementById("openBtn");

  function openIfCorrect() {
    const v = pwInput.value.trim();
    if (!v) return;

    if (v === PASSWORD) {
      // 앱으로 강제 실행
      window.location.href = APP_LINK;
    } else {
      pwInput.value = "";
      pwInput.style.border = "1px solid red";
      setTimeout(() => pwInput.style.border = "1px solid #bbb", 300);
    }
  }

  btn.addEventListener("click", openIfCorrect);
  pwInput.addEventListener("keydown", e => {
    if (e.key === "Enter") openIfCorrect();
  });
</script>

</body>
</html>
